<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Sesli Test Etkinliği</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f7f7f7; padding: 2rem; }
    .card { background: #fff; border-radius: 8px; box-shadow: 0 2px 8px #0001; padding: 2rem; max-width: 400px; margin: auto; }
    .question { font-size: 1.2rem; margin-bottom: 1rem; }
    .options label { display: block; margin-bottom: 0.5rem; }
    .timer { font-weight: bold; color: #d32f2f; margin-bottom: 1rem; }
    .audio-player { margin-bottom: 1rem; }
    .result { font-size: 1.1rem; margin-top: 1rem; }
    button { margin-top: 1rem; }
  </style>
</head>
<body>
  <div class="card">
    <div class="timer" id="timer">Süre: 10</div>
    <div class="audio-player">
      <audio id="audio" controls>
        <source id="audioSource" src="" type="audio/mpeg">
        Tarayıcınız ses etiketini desteklemiyor.
      </audio>
    </div>
    <div class="question" id="question">Bu ses hangi hayvana aittir?</div>
    <div class="options">
      <label><input type="radio" name="option" value="Kedi"> Kedi</label>
      <label><input type="radio" name="option" value="Köpek"> Köpek</label>
      <label><input type="radio" name="option" value="Kuş"> Kuş</label>
      <label><input type="radio" name="option" value="İnek"> İnek</label>
    </div>
    <button id="submitBtn">Cevabı Gönder</button>
    <div class="result" id="result"></div>
  </div>
  <script>
    // Buraya kendi Supabase Storage public ses dosyası bağlantını ekle!
    const audioUrl = "BURAYA_SUPABASE_SES_DOSYASI_URL_YAPISTIR";
    document.getElementById("audioSource").src = audioUrl;
    document.getElementById("audio").load();

    const correctAnswer = "Kedi"; // Doğru cevabı buradan ayarlayabilirsin
    let timeLeft = 10;
    let timer = setInterval(() => {
      timeLeft--;
      document.getElementById("timer").textContent = "Süre: " + timeLeft;
      if (timeLeft <= 0) {
        clearInterval(timer);
        checkAnswer();
      }
    }, 1000);

    document.getElementById("submitBtn").onclick = function() {
      clearInterval(timer);
      checkAnswer();
    };

    function checkAnswer() {
      const options = document.getElementsByName("option");
      let selected = null;
      for (const opt of options) {
        if (opt.checked) selected = opt.value;
      }
      const result = document.getElementById("result");
      if (selected === correctAnswer) {
        result.textContent = "Tebrikler, doğru cevap!";
        result.style.color = "green";
      } else if (selected === null) {
        result.textContent = "Süre doldu veya cevap seçilmedi.";
        result.style.color = "orange";
      } else {
        result.textContent = "Yanlış cevap. Doğru cevap: " + correctAnswer;
        result.style.color = "red";
      }
      document.getElementById("submitBtn").disabled = true;
    }
  </script>
</body>
</html> 